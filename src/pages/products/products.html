<div class="bg-white h-screen p-5 overflow-y-auto">
  <div class="bg-white rounded-3xl shadow-lg p-5">
    <!-- Header Row -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-3">
      <h2 class="text-2xl font-semibold text-gray-800">Products</h2>
      <div class="flex gap-2">
        <button
          (click)="viewAddProduct()"
          class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium shadow w-full sm:w-auto"
        >
          + Add Product
        </button>
        <button
          command="show-modal"
          commandfor="dialog"
          class="rounded-md bg-gray-950/5 px-4 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-950/10"
        >
          Delete Product
        </button>
      </div>
      <el-dialog>
        <dialog
          id="dialog"
          aria-labelledby="dialog-title"
          class="fixed inset-0 size-auto max-h-none max-w-none overflow-y-auto bg-transparent backdrop:bg-transparent"
        >
          <el-dialog-backdrop
            class="fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"
          ></el-dialog-backdrop>

          <div
            tabindex="0"
            class="flex min-h-full items-end justify-center p-4 text-center focus:outline-none sm:items-center sm:p-0"
          >
            <el-dialog-panel
              class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95"
            >
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                    class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:size-10"
                  >
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      data-slot="icon"
                      aria-hidden="true"
                      class="size-6 text-red-600"
                    >
                      <path
                        d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                    <h3 id="dialog-title" class="text-base font-semibold text-gray-900">
                      Delete Product
                    </h3>
                    <div class="mt-2">
                      <form class="space-y-2" [formGroup]="delete">
                        <label class="block font-mono italic"
                          >Enter name of product to delete</label
                        >
                        <input
                          type="text"
                          name="delete"
                          placeholder="iPhone 16"
                          formControlName="productName"
                          class="placeholder:italic font-mono border p-2 rounded-md w-full"
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                <button
                  type="button"
                  command="close"
                  commandfor="dialog"
                  (click)="delProd()"
                  class="inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-red-500 sm:ml-3 sm:w-auto"
                >
                  Delete
                </button>
                <button
                  type="button"
                  command="close"
                  commandfor="dialog"
                  class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs inset-ring inset-ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
                >
                  Cancel
                </button>
              </div>
            </el-dialog-panel>
          </div>
        </dialog>
      </el-dialog>
    </div>

    <!-- Responsive Table Wrapper -->
    <div class="rounded-xl border border-gray-200 shadow overflow-x-auto">
      <table class="min-w-full bg-white">
        <!-- Table Header -->
        <thead class="hidden sm:table-header-group">
          <tr class="bg-gray-50 text-left text-sm font-semibold text-gray-600">
            <th class="px-6 py-4">Product Image</th>
            <th class="px-6 py-4">Description</th>
            <th class="px-6 py-4">Price</th>
            <th class="px-6 py-4">Stock</th>
            <th class="px-6 py-4 text-center">Actions</th>
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody class="text-sm text-gray-700">
          @for (products of productsList; track $index) {
          <tr class="border-t sm:table-row block sm:block p-4 sm:p-0">
            <!-- PRODUCT IMAGE -->
            <td class="px-6 py-4 flex items-center gap-3 sm:table-cell">
              <img
                [src]="products.productImage"
                class="w-12 h-12 object-cover rounded-md shadow mb-1"
              />
              <span class="font-medium block sm:hidden text-gray-500">Name:</span>
              <span class="font-mono italic">{{ products.productName }}</span>
            </td>

            <!-- DESCRIPTION -->
            <td class="px-6 py-4 sm:table-cell block font-mono italic">
              <span class="font-mono italic sm:hidden text-gray-500">Description:</span>
              {{ products.productDescription }}
            </td>

            <!-- PRICE -->
            <td class="px-6 py-4 font-semibold sm:table-cell block font-mono italic">
              <span class="font-mono italic sm:hidden text-gray-500">Price:</span>
              ${{ products.price }}
            </td>

            <!-- STOCK -->
            <td class="px-6 py-4 sm:table-cell block font-mono italic">
              <span class="font-mono sm:hidden text-gray-500">Stock:</span>
              {{ products.stockQuantity }}
            </td>

            <!-- ACTIONS -->
            <td class="px-6 py-4 text-center sm:table-cell block font-mono italic">
              <span class="font-medium sm:hidden text-gray-500">Actions:</span>

              <div class="flex items-center justify-center gap-3 mt-2 sm:mt-0">
                <button
                  command="show-modal"
                  commandfor="dialogs"
                  class="p-2 text-white hover:bg-blue-50 text-sm sm:text-base"
                  (click)="productServices.viewDelete(products)"
                >
                  <img
                    src="https://static.vecteezy.com/system/resources/previews/000/425/359/original/edit-icon-vector-illustration.jpg"
                    alt="edit"
                    class="w-12 h-12 rounded-lg"
                  />
                </button>
                <el-dialog>
                  <dialog
                    id="dialogs"
                    aria-labelledby="dialogs-title"
                    class="fixed inset-0 size-auto max-h-none max-w-none overflow-y-auto bg-transparent backdrop:bg-transparent"
                  >
                    <el-dialog-backdrop
                      class="fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"
                    ></el-dialog-backdrop>

                    <div
                      tabindex="0"
                      class="flex min-h-full items-end justify-center p-4 text-center focus:outline-none sm:items-center sm:p-0"
                    >
                      <el-dialog-panel
                        class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95"
                      >
                        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                          <div class="sm:flex sm:items-start">
                            <div
                              class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-blue-100 sm:mx-0 sm:size-10"
                            >
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                                stroke-width="1.5"
                                aria-hidden="true"
                                class="size-6 text-blue-600"
                              >
                                <path
                                  stroke-linecap="round"
                                  stroke-linejoin="round"
                                  d="M16.862 4.487a2.25 2.25 0 013.182 3.182l-9.193 9.193a4.5 4.5 0 01-1.591 1.06l-3.064 1.02a.75.75 0 01-.95-.95l1.02-3.064a4.5 4.5 0 011.06-1.591l9.193-9.193z"
                                />
                                <path
                                  stroke-linecap="round"
                                  stroke-linejoin="round"
                                  d="M19.5 7.5L16.5 4.5"
                                />
                              </svg>
                            </div>

                            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                              <h2 class="text-2xl font-semibold mb-4 text-gray-800">
                                Edit Product
                              </h2>

                              <form class="space-y-5" [formGroup]="editProducts">
                                <!-- Product Name -->
                                <div>
                                  <label class="block text-sm font-medium text-gray-700"
                                    >Product Name</label
                                  >
                                  <input
                                    type="text"
                                    class="w-full mt-1 p-3 border rounded-lg placeholder:italic focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                    placeholder="Enter product name"
                                    [value]="productServices.productsLists.productName"
                                    formControlName="productName"
                                  />
                                </div>

                                <!-- Price and Quantity -->
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                  <div>
                                    <label class="block text-sm font-medium text-gray-700"
                                      >Price</label
                                    >
                                    <input
                                      type="number"
                                      class="w-full mt-1 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                      placeholder="0.00"
                                      [value]="productServices.productsLists.price"
                                      formControlName="price"
                                    />
                                  </div>
                                  <div>
                                    <label class="block text-sm font-medium text-gray-700"
                                      >Quantity</label
                                    >
                                    <input
                                      type="number"
                                      class="w-full mt-1 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                      placeholder="1"
                                      [value]="productServices.productsLists.stockQuantity"
                                      formControlName="stockQuantity"
                                    />
                                  </div>
                                </div>

                                <!-- Category -->
                                <div>
                                  <label class="block text-sm font-medium text-gray-900"
                                    >Category</label
                                  >
                                  <select
                                    class="w-full mt-1 p-3 border rounded-lg bg-white focus:ring-2 focus:ring-indigo-500"
                                  >
                                    <option value="" disabled selected>Select category</option>
                                    @for (item of category; track $index) {
                                    <option [value]="item.categoryId">{{ item.name }}</option>
                                    }
                                  </select>
                                </div>

                                <!-- Image Upload -->
                                <div>
                                  <label class="block text-sm font-medium text-gray-700"
                                    >Product Image</label
                                  >
                                  <input
                                    type="file"
                                    class="w-full mt-1 p-3 border rounded-lg bg-white cursor-pointer"
                                  />
                                </div>

                                <!-- Description -->
                                <div>
                                  <label class="block text-sm font-medium text-gray-700"
                                    >Description</label
                                  >
                                  <textarea
                                    rows="4"
                                    class="w-full mt-1 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                                    placeholder="Write a short description..."
                                    [value]="productServices.productsLists.productDescription"
                                    formControlName="productDescription"
                                  ></textarea>
                                </div>

                                <!-- Submit Button -->
                                <button
                                  type="submit"
                                  class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-lg font-medium transition"
                                  (click)="editProduct()"
                                >
                                  Edit Product
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                        <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                          <button
                            type="button"
                            command="close"
                            commandfor="dialogs"
                            class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs inset-ring inset-ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
                          >
                            Cancel
                          </button>
                        </div>
                      </el-dialog-panel>
                    </div>
                  </dialog>
                </el-dialog>
              </div>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>

<router-outlet />
