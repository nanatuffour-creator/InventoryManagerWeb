<div class="p-8 space-y-10 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen animate-fade-in">

    <!-- HEADER -->
    <div class="flex flex-col gap-2">
        <h1 class="text-3xl font-bold text-gray-800 tracking-tight">Dashboard Overview</h1>
        <p class="text-gray-500">A quick summary of your system's performance and insights</p>
    </div>

    <!-- Stats Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div
            class="bg-gradient-to-br from-blue-500 to-blue-700 text-white p-6 rounded-2xl shadow-lg hover:scale-105 transition transform duration-300">
            <div class="flex items-center justify-between">
                <p class="text-blue-100 text-sm">Total Sales</p>
                <span class="text-white text-xl">ðŸ’°</span>
            </div>
            <h3 class="text-3xl font-bold mt-2">GHC {{total}}</h3>
            <p class="text-blue-200 text-sm mt-1">+{{percentage}}% from last week</p>
        </div>

        <div
            class="bg-gradient-to-br from-purple-500 to-purple-700 text-white p-6 rounded-2xl shadow-lg hover:scale-105 transition transform duration-300">
            <div class="flex items-center justify-between">
                <p class="text-purple-100 text-sm">Invoices</p>
                <span class="text-white text-xl">ðŸ“„</span>
            </div>
            <h3 class="text-3xl font-bold mt-2">{{invoices.length}}</h3>
            <p class="text-purple-200 text-sm mt-1">+{{todaysinvoices}} new today</p>
        </div>

        <div
            class="bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6 rounded-2xl shadow-lg hover:scale-105 transition transform duration-300">
            <div class="flex items-center justify-between">
                <p class="text-emerald-100 text-sm">Products</p>
                <span class="text-white text-xl">ðŸ“¦</span>
            </div>
            <h3 class="text-3xl font-bold mt-2">{{productsList.length}}</h3>
            <p class="text-emerald-200 text-sm mt-1">3 items low in stock</p>
        </div>

        <div
            class="bg-gradient-to-br from-rose-500 to-rose-700 text-white p-6 rounded-2xl shadow-lg hover:scale-105 transition transform duration-300">
            <div class="flex items-center justify-between">
                <p class="text-rose-100 text-sm">Customers</p>
                <span class="text-white text-xl">ðŸ‘¥</span>
            </div>
            <h3 class="text-3xl font-bold mt-2">{{customer.length}}</h3>
            <p class="text-rose-200 text-sm mt-1">+{{customersAddedToday}} new this week</p>
        </div>
    </div>

    <!-- Charts Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div
            class="bg-white/80 backdrop-blur rounded-2xl shadow-xl p-6 h-96 border border-blue-200 hover:shadow-2xl transition duration-300">
            <h3 class="text-lg font-semibold text-blue-700 mb-4 flex items-center gap-2">ðŸ“ˆ Sales Trend</h3>
            <div class="h-full flex items-center justify-center text-blue-500 font-semibold">
            </div>
        </div>

        <div
            class="bg-white/80 backdrop-blur rounded-2xl shadow-xl p-6 h-96 border border-purple-200 hover:shadow-2xl transition duration-300">
            <h3 class="text-lg font-semibold text-purple-700 mb-4 flex items-center gap-2">ðŸ“Š Invoice Breakdown</h3>
            <div class="h-auto flex items-center justify-center text-purple-500 font-semibold">
                <canvas id="myChart" class="auto"></canvas>
            </div>
        </div>
    </div>

    <!-- Recent Activity Table -->
    <div class="bg-white rounded-2xl shadow-xl p-6 border border-indigo-200 hover:shadow-2xl transition duration-300">
        <h3 class="text-xl font-semibold mb-4 text-indigo-700 flex items-center gap-2">ðŸ§¾ Recent Invoices</h3>

        <table class="w-full text-sm">
            <thead class="bg-indigo-50 text-indigo-700 rounded-lg">
                <tr class="text-left border-b border-indigo-200">
                    <th class="pb-3">Invoice ID</th>
                    <th class="pb-3">Customer</th>
                    <th class="pb-3">Total</th>
                    <th class="pb-3">Date</th>
                    <th class="pb-3 text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                @for (item of invoices; track $index) {
                <tr class="border-b hover:bg-indigo-50/50 transition">
                    <td class="py-3">{{item.invoiceId}}</td>
                    <td class="py-3">{{item.customerName}}</td>
                    <td class="py-3 text-indigo-700 font-semibold">GHC {{item.total}}</td>
                    <td class="py-3">{{item.createdAt}}</td>
                    <td class="py-3 text-center"><button (click)="openModal(item)"
                            class="rounded-md bg-gray-900 text-white px-3 py-1.5 text-sm hover:bg-gray-700">
                            View
                        </button>
                    </td>
                </tr>
                }
            </tbody>
            @if (showModal)
            {
            <div class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50">
                <div class="bg-white w-[420px] rounded-2xl shadow-2xl p-6 border border-gray-200">

                    <h2 class="text-xl font-bold mb-5">Invoice Details</h2>

                    <div class="grid grid-cols-1 gap-2 mb-4 text-sm">
                        <p><strong>Invoice ID:</strong> {{selectedInvoice.invoiceId}}</p>
                        <p><strong>Customer:</strong> {{selectedInvoice.customerName}}</p>
                        <p><strong>Date:</strong> {{selectedInvoice.createdAt}}</p>
                        <p><strong>Total:</strong> GHC {{selectedInvoice.total}}</p>
                    </div>

                    <table class="w-full border rounded-xl overflow-hidden mb-4">
                        <thead class="bg-gray-100 text-xs text-gray-600 uppercase">
                            <tr>
                                <th class="px-3 py-2 text-left">Product</th>
                                <th class="px-3 py-2 text-left">Qty</th>
                                <th class="px-3 py-2 text-left">Price</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (item of selectedInvoice.items; track item.productName) {
                            <tr class="border-b hover:bg-gray-50 text-sm">
                                <td class="px-3 py-2">{{item.productName}}</td>
                                <td class="px-3 py-2">{{item.quantity}}</td>
                                <td class="px-3 py-2">{{item.productPrice}}</td>
                            </tr>
                            }
                        </tbody>
                    </table>

                    <div class="mt-6 text-right">
                        <button (click)="closeModal()"
                            class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition">
                            Close
                        </button>
                    </div>

                </div>
            </div>
            }
        </table>

    </div>

</div>